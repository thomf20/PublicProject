@*@page
@model PublicProject.Pages.IndexModel
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@{

    
}

@if (Model.Blogs != null)
{
    <div class="row">
        @foreach (var b in Model.Blogs)
        {
                <div class="col-md-4">
                    <div class="card m-2">
                        <img class="card-img-top" src="~/img/@b.Image">
                        <div class="card-body">
                            <h5 class="card-title">@b.Header</h5>
                            <p class="card-text">@b.Text.LimitLength(200)...</p>
                        </div>
                        <p class="card-footer">@b.Date</p>
                        <div class="text-center">
                            <a class="btn btn-primary" asp-page="/ViewBlog" asp-route-id="@b.Id">View Blog</a>
                        </div>
                    </div>
                </div>
        }
    </div>
}*@

@page
@model PublicProject.Pages.Topicbrowser
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@{
    ViewData["Title"] = "Blogviewer";
    var user = await UserManager.GetUserAsync(User);
}

<html class="home blog no-js" lang="en-US">
<head>
    <title>Itsy | A cutesy little template by FreeHTML5.co</title>

    <meta charset="UTF-8" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          type="text/css" media="all" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amatic+SC%3A400%2C700%7CLato%3A400%2C700%2C400italic%2C700italic&amp;ver=4.9.8"
          type="text/css" media="screen" />
    <link rel="stylesheet" href="css/Itsy/style.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/Itsy/print.css" type="text/css" media="print" />
    <!--[if (lt IE 9) & (!IEMobile)]>
    <link rel="stylesheet" id="lt-ie9-css" href="ie.css" type="text/css" media="screen"/>
    <![endif]-->
    <script src='js/jquery-3.0.0.min.js'></script>
    <script src='js/jquery-migrate-3.0.1.min.js'></script>
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
   @{
            Model.Blogs.Reverse();
         
        }
<body class="home sticky-menu sidebar-off" id="top">


    @if (SignInManager.IsSignedIn(User))
    {
        <a asp-page="/overview" asp-route-id="@user.Id"><h3 class="home-sticky-title"> View User Profile</h3></a>
    }
  
    <br />
    <div class="home-sticky" id="content">
        <h2 class="home-sticky-title">Huvudkategorier</h2></a>
        <div class="sticky-inner">
            <section>
                @foreach( var category in Model.Categories)
                {

                    <a asp-page="/SubCategoryViewer" asp-route-id="@category.Id"><h3> @category.Name </h3></a>
                }
            </section>
        </div>
    </div>
    <div class="footer-widgets widget-count-4">
        <div class="wrap">
            <div class="widget footer">
                <h4>Latest posts</h4>
                <ul>
                    @for (int i = 0; i < 3; i++)
                    {
                            <li>
                                <a asp-page="/ViewForumPost" asp-route-id="@Model.Blogs[i].Id">@Model.Blogs[i].Title</a>
                            </li>

                    }
                </ul>
            </div>
            <div class="mt-about-you-widget">
                <div class="widget footer">
                    <h4>Public Project</h4>
                    <div class="mt-about-bio">
                        <p>
                            This site is created by Elias, Thom and Mohammed.
                        </p>
                    </div>
                </div>
            </div>
            <div class="widget footer">
                @if (SignInManager.IsSignedIn(User))
                {

                    var inAdminRole = User.IsInRole("Admin");
                    if (inAdminRole == true)
                    {
                                <h4>Admin Stuff</h4>
                                <div class="textwidget">
                                    <ul>
                                        <li>
                                            <a href="~/reports">Reports</a>
                                        </li>
                                        <li>

                                            <a href="~/admin/categoryadmin">Create Category</a>
                                        </li>
                                        <li>
                                            <a href="~/admin/subcategory">Create Sub-Category</a>
                                        </li>
                                        <li>
                                            <a href="">More admin stuff</a>
                                        </li>                                                       
                                    </ul>
                                </div>
                    }
                    else
                    {
                                <h4>Made by us</h4>
                                <div class="textwidget">
                                    <ul>
                                        <li>
                                            <a href="https://www.linkedin.com/in/mohammed-karimi-40b7551a9/">Mohammed</a>
                                        </li>
                                        <li>
                                            <a href="https://www.linkedin.com/in/thom-flodqvist-025256262/">Thom</a>
                                        </li>
                                        <li>
                                            <a href="https://www.linkedin.com/in/elias-zanghnaeh-25900824a/">Elias</a>
                                        </li>
                                    </ul>
                                </div>
                    }
                }
                else
                {
                        <h4>Made by us</h4>
                        <div class="textwidget">
                            <ul>
                                <li>
                                    <a href="https://www.linkedin.com/in/mohammed-karimi-40b7551a9/">Mohammed</a>
                                </li>
                                <li>
                                    <a href="https://www.linkedin.com/in/thom-flodqvist-025256262/">Thom</a>
                                </li>
                                <li>
                                    <a href="https://www.linkedin.com/in/elias-zanghnaeh-25900824a/">Elias</a>
                                </li>
                            </ul>
                        </div>

                }

            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="footer-wrap">
            <div id="footer-text">
                &copy; 2023 - PublicProject - <a asp-area="" asp-page="/Privacy">Privacy</a>
            </div>
            <a href="#top" id="btt">Top <i class="fa fa-chevron-up"></i></a>
        </div>
    </footer>

    <script>var ie9 = false;</script>
    <!--[if lte IE 9 ]>
    <script> var ie9 = true; </script>
    <![endif]-->
    <script src="js/global-plugins.min.js"></script>
    <script src="js/main.js"></script>
</body>
</html>

